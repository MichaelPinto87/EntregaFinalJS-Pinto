<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nike</title>
    <link rel="icon" sizes="1x1 3x3 4x4" type="image/png" href="img/logonike.jpeg" />
    <link rel="stylesheet" href="../styles.css" />
    
    <link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css"
/>
<script>
  document.addEventListener('DOMContentLoaded', () => {

      // Variables
      const baseDeDatos = [
      {
    id: 1,
    nombre: "Remera Larga Nike ",
    categoria: "Remera",
    precio: 69.99,
    marca: "Nike",
    imagen: "../img/Remera1.png",
    descripcion: "Remera manga larga Nike.",
  },
  {
    id: 2,
    nombre: "Pantalon Nike Jordan ",
    categoria: "Pantalones",
    precio: 39.99,
    marca: "Nike Jordan",
    imagen: "../img/Remera2.png",
    descripcion: "Pantalon Nike Jordan MVP.",
  },,
  {
    id: 3,
    nombre: "Calza Nike",
    categoria: "Pantalon",
    precio: 39.99,
    marca: "Nike",
    imagen: "../img/Remera3.png",
    descripcion: "Calza común Nike.",
  },
  {
    id: 4,
    nombre: "Calza Nike",
    categoria: "Pantalon",
    precio: 39.99,
    marca: "Nike",
    imagen: "../img/Pantalon1.png",
    descripcion: "Calza común Nike.",
  },{
    id: 8,
    nombre: "Calza Nike",
    categoria: "Pantalon",
    precio: 39.99,
    marca: "Nike",
    imagen: "../img/Pantalon2.png",
    descripcion: "Calza común Nike.",
  },
  {
    id: 8,
    nombre: "Calza Nike",
    categoria: "Pantalon",
    precio: 39.99,
    marca: "Nike",
    imagen: "../img/Pantalon3.png",
    descripcion: "Calza común Nike.",
  },
  {
    id: 8,
    nombre: "Calza Nike",
    categoria: "Pantalon",
    precio: 39.99,
    marca: "Nike",
    imagen: "../img/Buzo3.png",
    descripcion: "Calza común Nike.",
  },
  {
    id: 8,
    nombre: "Calza Nike",
    categoria: "Pantalon",
    precio: 39.99,
    marca: "Nike",
    imagen: "../img/Buzo2.png",
    descripcion: "Calza común Nike.",
  },
  {
    id: 9,
    nombre: "Calza Nike",
    categoria: "Pantalon",
    precio: 39.99,
    marca: "Nike",
    imagen: "../img/Buzo1.png",
    descripcion: "Calza común Nike.",
  },{
    id: 10,
    nombre: "Calza Nike",
    categoria: "Pantalon",
    precio: 39.99,
    marca: "Nike",
    imagen: "../img/zapatilla2.jpg",
    descripcion: "Calza común Nike.",
  },{
    id: 11,
    nombre: "Calza Nike",
    categoria: "Pantalon",
    precio: 39.99,
    marca: "Nike",
    imagen: "../img/zapatilla1.jpg",
    descripcion: "Calza común Nike.",
  },{
    id: 12,
    nombre: "Calza Nike",
    categoria: "Pantalon",
    precio: 39.99,
    marca: "Nike",
    imagen: "../img/zapatilla3.jpeg",
    descripcion: "Calza común Nike.",
  },

      ];

      let carrito = [];
      const divisa = '$';
      const DOMitems = document.querySelector('#items');
      const DOMcarrito = document.querySelector('#carrito');
      const DOMtotal = document.querySelector('#total');
      const DOMbotonVaciar = document.querySelector('#boton-vaciar');
      const miLocalStorage = window.localStorage;

      // Funciones

      
      function renderizarProductos() {
          baseDeDatos.forEach((info) => {
              
              const miNodo = document.createElement('div');
              miNodo.classList.add('card', 'col-sm-4');
        
              const miNodoCardBody = document.createElement('div');
              miNodoCardBody.classList.add('card-body');
      
              const miNodoTitle = document.createElement('h5');
              miNodoTitle.classList.add('card-title');
              miNodoTitle.textContent = info.nombre;

              const miNodoImagen = document.createElement('img');
              miNodoImagen.classList.add('img-fluid');
              miNodoImagen.setAttribute('src', info.imagen);
    
              const miNodoPrecio = document.createElement('p');
              miNodoPrecio.classList.add('card-text');
              miNodoPrecio.textContent = `${info.precio}${divisa}`;
        
              const miNodoBoton = document.createElement('button');
              miNodoBoton.classList.add('btn', 'btn-dark');
              miNodoBoton.textContent = 'Agregar al carrito';
              miNodoBoton.setAttribute('marcador', info.id);
              miNodoBoton.addEventListener('click', anyadirProductoAlCarrito);
       
              miNodoCardBody.appendChild(miNodoImagen);
              miNodoCardBody.appendChild(miNodoTitle);
              miNodoCardBody.appendChild(miNodoPrecio);
              miNodoCardBody.appendChild(miNodoBoton);
              miNodo.appendChild(miNodoCardBody);
              DOMitems.appendChild(miNodo);
          });
      }

      
      function anyadirProductoAlCarrito(evento) {
          
          carrito.push(evento.target.getAttribute('marcador'))
         
          renderizarCarrito();
          
          guardarCarritoEnLocalStorage();
      }

     
      function renderizarCarrito() {
          
          DOMcarrito.textContent = '';
          
          const carritoSinDuplicados = [...new Set(carrito)];
          
          carritoSinDuplicados.forEach((item) => {
             
              const miItem = baseDeDatos.filter((itemBaseDatos) => {
                  
                  return itemBaseDatos.id === parseInt(item);
              });
              
              const numeroUnidadesItem = carrito.reduce((total, itemId) => {
                  
                  return itemId === item ? total += 1 : total;
              }, 0);
              
              const miNodo = document.createElement('li');
              miNodo.classList.add('list-group-item', 'text-right', 'mx-2' );
              miNodo.textContent = `${numeroUnidadesItem} x ${miItem[0].nombre} - ${miItem[0].precio}${divisa}`;
              
              const miBoton = document.createElement('button');
              miBoton.classList.add('btn', 'btn-danger', 'mx-1');
              miBoton.textContent = 'X';
              miBoton.style.marginLeft = '1rem';
              miBoton.dataset.item = item;
              miBoton.addEventListener('click', borrarItemCarrito);
              
              miNodo.appendChild(miBoton);
              DOMcarrito.appendChild(miNodo);
          });
          
          DOMtotal.textContent = calcularTotal();
      }

      
      function borrarItemCarrito(evento) {
         
          const id = evento.target.dataset.item;
         
          carrito = carrito.filter((carritoId) => {
              return carritoId !== id;
          });
          
          renderizarCarrito();
          
          guardarCarritoEnLocalStorage();

      }

      
      function calcularTotal() {
         
          return carrito.reduce((total, item) => {
             
              const miItem = baseDeDatos.filter((itemBaseDatos) => {
                  return itemBaseDatos.id === parseInt(item);
              });
              
              return total + miItem[0].precio;
          }, 0).toFixed(2);
      }

     
      function vaciarCarrito() {
          
          carrito = [];
          
          renderizarCarrito();
          
          localStorage.clear();

      }

      function guardarCarritoEnLocalStorage () {
          miLocalStorage.setItem('carrito', JSON.stringify(carrito));
      }

      function cargarCarritoDeLocalStorage () {
         
          if (miLocalStorage.getItem('carrito') !== null) {
       
              carrito = JSON.parse(miLocalStorage.getItem('carrito'));
          }
      }

      
      DOMbotonVaciar.addEventListener('click', vaciarCarrito);

     
      cargarCarritoDeLocalStorage();
      renderizarProductos();
      renderizarCarrito();
  });
</script>
  </head>
  <body>
    
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="container-fluid">
        
        <div class="logo">
          <svg
            role="img"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <title>Nike</title>
            <path
              d="M24 7.8L6.442 15.276c-1.456.616-2.679.925-3.668.925-1.12 0-1.933-.392-2.437-1.177-.317-.504-.41-1.143-.28-1.918.13-.775.476-1.6 1.036-2.478.467-.71 1.232-1.643 2.297-2.8a6.122 6.122 0 00-.784 1.848c-.28 1.195-.028 2.072.756 2.632.373.261.886.392 1.54.392.522 0 1.11-.084 1.764-.252L24 7.8z"
            />
          </svg>
        </div>
        <div class="nav-item" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="../index.html">Home</a>
            </li>
            <div class="nav-item" id="navbarNav">
              <ul class="navbar-nav">
                <li class="nav-item">
                  <a class="nav-link active" aria-current="page" href="../pages/contacto.html">Contacto</a>
                </li>
                <div class="nav-item" id="navbarNav">
                  <ul class="navbar-nav">
                    <li class="nav-item">
                      <a class="nav-link active" aria-current="page" href="#footer">Redes</a>
                    </li>
                <div class="nav-item" id="navbarNav">
                  <ul class="navbar-nav">
                    <li class="nav-item">
                      <a class="nav-link active" aria-current="page" href="../pages/carrito.html">Carrito -></a>
                    </li>
        <button>
      <div class="cart">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          class="w-6 h-6"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M15.75 10.5V6a3.75 3.75 0 10-7.5 0v4.5m11.356-1.993l1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 01-1.12-1.243l1.264-12A1.125 1.125 0 015.513 7.5h12.974c.576 0 1.059.435 1.119 1.007zM8.625 10.5a.375.375 0 11-.75 0 .375.375 0 01.75 0zm7.5 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"
          />
        </svg>
      </div></button>
      
      
    </nav>
    
    
  
    <button id="dark-mode-toggle">Modo Oscuro</button>
    

    <h1 class="Titulo">N i k e</h1>
    
    

  <div class="row text-center">
    <div class="col-12">
      
     
    </div>
  </div>
</div>
<div class="container">
  <div class="row">
      
      <main id="items" class="col-sm-8 row"></main>
     
      <aside class="col-sm-4">
          <h2>Carrito</h2>
        
          <ul id="carrito" class="list-group"></ul>
          <hr>
          
          <p class="text-right">Total: <span id="total"></span>$</p>
          <button id="boton-vaciar" class="btn btn-danger">Vaciar</button>
      </aside>
  </div>
</div>
   <hr>
   <div id="footer">
<footer class="text-center text-white" style="background-color: #ffffff;">
  
  <div class="container pt-3">
    
    <section class="mb-4">
  

      <!-- Twitter -->
      <a
        class="btn btn-link btn-floating btn-lg text-dark m-1"
        href="#!"
        role="button"
        data-mdb-ripple-color="dark"
        ><i class="fab fa-twitter"><?xml version="1.0" ?><!DOCTYPE svg  PUBLIC '-//W3C//DTD SVG 1.1//EN'  'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'><img src="../img/twitticon.png" alt=""></i
      ></a>

       <!-- Facebook -->
      <a
        class="btn btn-link btn-floating btn-lg text-dark m-1"
        href="#!"
        role="button"
        data-mdb-ripple-color="dark"
        ><i class="fab fa-facebook-f"><?xml version="1.0" ?><!DOCTYPE svg  PUBLIC '-//W3C//DTD SVG 1.1//EN'  'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'><img src="../img/faceicon.png" alt=""></i
      ></a>
      <!-- Instagram -->
      <a
        class="btn btn-link btn-floating btn-lg text-dark m-1"
        href="#!"
        role="button"
        data-mdb-ripple-color=""
        ><i class="fab fa-instagram"><?xml version="1.0" ?><!DOCTYPE svg  PUBLIC '-//W3C//DTD SVG 1.1//EN'  'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'><img src="../img/igicon.png" alt=""></i
      ></a>

    
    </section>
    
  </div>
 

  
  <div class="text-center text-dark p-3" style="background-color: rgba(0, 0, 0, 0.2);">
    © 2023 Mike:
    <a class="text-dark" href="https://mdbootstrap.com/">https://github.com/MichaelPinto87</a>
  </div>
  
</footer>

<script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>
  
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
      crossorigin="anonymous"
    ></script>
   
    <link href="https://fonts.cdnfonts.com/css/nikeflix" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script src="../cart.js"></script>
  </body>
</html>
